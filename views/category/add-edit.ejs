<% extend('../template/master') %>

<main>
  <div class="container-fluid px-4">
    <h1 class="mt-4"><%= (action == 'edit') ? 'Edit' : 'Create' %> Category</h1>
    <%- include('../template/partials/breadcrumb.ejs') %>

    <form 
      action="<%= (action == 'edit') ? `/categories/${category._id}?_method=PUT` : '/categories' %>" 
      method="POST"
    >

      <div class="mb-3">
          <label for="name" class="form-label">Name:</label>
          <input type="text" name="name" class="form-control" id="name" placeholder="Enter name" value="<%= (action == 'edit') ? category.name : '' %>" required>
      </div>
      <div class="mb-3">
          <label for="description" class="form-label">Description:</label>
          <textarea class="form-control" name="description" id="description" rows="3" placeholder="Enter description"><%= (action == 'edit') ? category.description : '' %></textarea>
      </div>
      <a href="/categories" class="btn btn-sm btn-secondary"><i class="fa-solid fa-xmark"></i> cancel</a>
      <button type="submit" class="btn btn-sm btn-primary"><i class="fa-solid fa-floppy-disk"></i> save</button>
    </form>
  </div>
</main>